<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // const promise1 = new Promise((resolve, reject)=>{
        //     resolve();
        // })

        // promise1
        //     .then(()=>{
        //         console.log('then1');
        //     })

        //     .catch(()=>{
        //         console.log('catch1');
        //     })

        async function startAsync(age){
            if(age > 20){
                    return `${age} success`;
                }else{
                    throw new Error(`${age} is not over 20`);
                }
        }

        // setTimeout(()=>{
        //     const promise1=startAsync(25);
        //     promise1
        //         .then((value)=>{
        //             console.log(value);
        //         })
        //         .catch((error)=>{
        //             console.error(error);
        //         })
        //     const promise2=startAsync(15);
        //     promise2
        //         .then((value)=>{
        //             console.log(value);
        //         })
        //         .catch((error)=>{
        //             console.error(error);
        //         })
        // }, 1000)

        // const throwError = new Promise((resolve, reject)=>{
        //     throw Error('error')
        // });

        // throwError
        //     .then(()=>{
        //         console.log('throwError success');
        //     })
        //     .catch(()=>{
        //         console.log('throwError catched');
        //     })

        // const ret = new Promise((resolve, reject)=>{
        //     return 'returned';
        // });

        // ret
        //     .then(()=>{
        //         console.log('ret success');
        //     })
        //     .catch(()=>{
        //         console.log('ret catched');
        //     })

        // const several1 = new Promise((resolve,reject)=>{
        //     resolve();
        //     reject();
        // });

        // several1
        //     .then(()=>{
        //         console.log('several1 success');
        //     })
        //     .catch(()=>{
        //         console.log('several1 cathecd');
        //     })

        // const several2 = new Promise((resolve, reject)=>{
        //     reject();
        //     resolve();
        // })
        // several2
        //     .then(()=>{
        //         console.log('several2 success')
        //     })
        //     .catch(()=>{
        //         console.log('several2 catched');
        //     })

        // const several3 = new Promise((resolve, reject)=>{
        //     resolve();
        //     throw new Error('error');
        // })
        // several3
        //     .then(()=>{
        //         console.log("several3 success");
        //     })
        //     .catch(()=>{
        //         console.log('several3 catched');
        //     })

        async function setTimeoutPromise(ms) {
            return new Promise((resolve, reject) => {
                setTimeout(() => resolve(), ms);
            });
        }

        async function startAsyncJobs(){
            await setTimeoutPromise(5000);
            const promise1 = startAsync(25);
            try {
                const value = await promise1;
                console.log(value);
            } catch(e){
                console.error(e);
            }

            const promise2 = startAsync(15);
            try {
                const value = await promise2;
                console.log(value);
            } catch(e){
                console.error(e);
            }
        }

        startAsyncJobs();

        // async function fetchAge(id){
        //     await setTimeoutPromise(1000);
        //     console.log(`${id} 사원 데이터 받아오기 완료!`);
        //     return parseInt(Math.random()*20,10)+25;
        // }

        // async function startAsyncJobs(){
        //     let ages = [];
        //     for (let i=0; i<10; i++){
        //         let age = await fetchAge(i);
        //         ages.push(age);
        //     }

        //     console.log(
        //         `평균 나이는? ==>${
        //             ages.reduce((prev, current)=> prev + current,0)/ages.length
        //         }`
        //     );
        // }

        // startAsyncJobs();
    </script>
</head>
<body>
    
</body>
</html>